{"ast":null,"code":"import _slicedToArray from\"/Users/michalneumann/Documents/projekty/interviewme/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/michalneumann/Documents/projekty/interviewme/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/michalneumann/Documents/projekty/interviewme/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/michalneumann/Documents/projekty/interviewme/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/michalneumann/Documents/projekty/interviewme/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/michalneumann/Documents/projekty/interviewme/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/michalneumann/Documents/projekty/interviewme/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/michalneumann/Documents/projekty/interviewme/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';var PersonalDataForm=/*#__PURE__*/function(_React$Component){_inherits(PersonalDataForm,_React$Component);function PersonalDataForm(props){var _this;_classCallCheck(this,PersonalDataForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(PersonalDataForm).call(this,props));_this.validateField=function(name,value){var config={validationRules:{name:value.trim().length,//most basic validation rule. checks if there's anything typed in the field\nnickName:true,email:value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i),field:value.trim().length,position:value.trim().length}};_this.setState(function(prevState){return{fieldTouched:_objectSpread({},prevState.fieldTouched,_defineProperty({},name,true))};});if(_this.state.fieldRequired[name]){if(config.validationRules[name]){_this.setState(function(prevState){return{fieldValid:_objectSpread({},prevState.fieldValid,_defineProperty({},name,true))};});}else{_this.setState(function(prevState){return{fieldValid:_objectSpread({},prevState.fieldValid,_defineProperty({},name,false))};});}}};_this.validateAllFields=function(){var valid=true;Object.entries(_this.state.fieldValues).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return _this.validateField(key,value);});Object.entries(_this.state.fieldValid).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];if(value===false){valid=false;}});return valid;};_this.saveToLocalStorage=function(){window.localStorage.setItem('PDFUser',JSON.stringify(_this.state.fieldValues));};_this.openResults=function(e){var personalDataWindow=window.open(\"\",\"PersonalDataFormResults\");var userData=JSON.parse(window.localStorage.getItem('PDFUser'));var message=\"<ol>From Local Storage:<li>Name: \"+userData.name+\"</li><li>Nickname: \"+userData.nickName+\"</li><li>E-mail: \"+userData.email+\"</li><li>Field: \"+userData.field+\"</li><li>Position: \"+userData.position+\"</li></ol>\";personalDataWindow.document.body.innerHTML=message;};_this.submitPersonalDataForm=function(e){e.preventDefault();if(_this.validateAllFields()){_this.setState(function(prevState){return{formSent:true};});_this.saveToLocalStorage();}};_this.state={formSent:false,fieldValues:{name:'',nickName:'',email:'',field:'',position:''},fieldRequired:{name:true,nickName:false,email:true,field:true,position:true},fieldTouched:{name:false,nickName:false,email:false,field:false,position:false},fieldValid:{name:false,nickName:true,email:false,field:false,position:false},errorMsgs:{name:'Please fill in your name',nickName:'',email:'Please use a correct e-mail address',field:'Please choose your field',position:'Please choose your position'}};_this.validateField=_this.validateField.bind(_assertThisInitialized(_this));_this.updateState=_this.updateState.bind(_assertThisInitialized(_this));_this.switchSelects=_this.switchSelects.bind(_assertThisInitialized(_this));return _this;}_createClass(PersonalDataForm,[{key:\"updateState\",value:function updateState(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;this.setState(function(prevState){return{fieldValues:_objectSpread({},prevState.fieldValues,_defineProperty({},name,value))};});this.validateField(name,value);}},{key:\"switchSelects\",value:function switchSelects(){switch(this.state.fieldValues.field){case'IT':return React.createElement(\"select\",{name:\"position\",id:\"position\",onChange:this.updateState},React.createElement(\"option\",{value:\"\"},this.state.fieldValues.position?'Go back to Field':'Position'),React.createElement(\"option\",{value:\"Front-end developer\"},\"Front-end developer\"),React.createElement(\"option\",{value:\"Back-end developer\"},\"Back-end developer\"),React.createElement(\"option\",{value:\"DevOps\"},\"DevOps\"),React.createElement(\"option\",{value:\"Front-end developer\"},\"Webmaster\"));case'Product':return React.createElement(\"select\",{name:\"position\",id:\"position\",onChange:this.updateState},React.createElement(\"option\",{value:\"\"},this.state.fieldValues.position?'Go back to Field':'Position'),React.createElement(\"option\",{value:\"Product Owner\"},\"Product Owner\"),React.createElement(\"option\",{value:\"UX Designer\"},\"UX Designer\"),React.createElement(\"option\",{value:\"UI Designer\"},\"UI Designer\"));case'Content':return React.createElement(\"select\",{name:\"position\",id:\"position\",onChange:this.updateState},React.createElement(\"option\",{value:\"\"},this.state.fieldValues.position?'Go back to Field':'Position'),React.createElement(\"option\",{value:\"Junior Copywriter\"},\"Junior Copywriter\"),React.createElement(\"option\",{value:\"Senior Copywriter\"},\"Senior Copywriter\"));default:return'';}}},{key:\"render\",value:function render(){if(this.state.formSent){return React.createElement(\"div\",{id:\"form-helper\"},React.createElement(\"ol\",null,React.createElement(\"li\",null,\"Name: \",this.state.fieldValues.name),React.createElement(\"li\",null,\"Nickname: \",this.state.fieldValues.nickName),React.createElement(\"li\",null,\"E-mail: \",this.state.fieldValues.email),React.createElement(\"li\",null,\"Field: \",this.state.fieldValues.field),React.createElement(\"li\",null,\"Position: \",this.state.fieldValues.position)),React.createElement(\"button\",{onClick:this.openResults},\"view results in new Tab (Local Storage)\"));}else{return React.createElement(\"div\",{id:\"form-helper\"},React.createElement(\"form\",{action:\"\",id:\"personal-data-form\",onSubmit:this.submitPersonalDataForm,noValidate:true},React.createElement(\"div\",{className:'row '+(this.state.fieldRequired.name&&this.state.fieldTouched.name?this.state.fieldValid.name?'success':'error':'')},React.createElement(\"input\",{name:\"name\",type:\"text\",noValidate:true,onBlur:this.updateState}),React.createElement(\"label\",{className:this.state.fieldValues.name&&'filled',htmlFor:\"name\"},\"Name\"),this.state.fieldRequired.name&&this.state.fieldTouched.name&&!this.state.fieldValid.name&&React.createElement(\"div\",{className:\"error-message\"},this.state.errorMsgs.name)),React.createElement(\"div\",{className:'row '+(this.state.fieldRequired.nickName&&this.state.fieldTouched.nickName?this.state.fieldValid.nickName?'success':'error':'')},React.createElement(\"input\",{name:\"nickName\",type:\"text\",noValidate:true,onBlur:this.updateState}),React.createElement(\"label\",{className:this.state.fieldValues.nickName&&'filled',htmlFor:\"nickName\"},\"Nickname\"),this.state.fieldRequired.nickName&&this.state.fieldTouched.nickName&&!this.state.fieldValid.nickName&&React.createElement(\"div\",{className:\"error-message\"},this.state.errorMsgs.nickName)),React.createElement(\"div\",{className:'row '+(this.state.fieldRequired.email&&this.state.fieldTouched.email?this.state.fieldValid.email?'success':'error':'')},React.createElement(\"input\",{name:\"email\",type:\"email\",noValidate:true,onBlur:this.updateState}),React.createElement(\"label\",{className:this.state.fieldValues.email&&'filled',htmlFor:\"email\"},\"E-mail\"),this.state.fieldRequired.email&&this.state.fieldTouched.email&&!this.state.fieldValid.email&&React.createElement(\"div\",{className:\"error-message\"},this.state.errorMsgs.email)),React.createElement(\"div\",{className:'row '+(this.state.fieldRequired.field&&this.state.fieldTouched.field?this.state.fieldValid.field?'success':'error':'')},React.createElement(\"select\",{name:\"field\",id:\"field\",onChange:this.updateState,disabled:this.state.fieldValues.position!==''},React.createElement(\"option\",{value:\"\"},\"Field\"),React.createElement(\"option\",{value:\"IT\"},\"IT\"),React.createElement(\"option\",{value:\"Product\"},\"Product\"),React.createElement(\"option\",{value:\"Content\"},\"Content\")),this.state.fieldRequired.field&&this.state.fieldTouched.field&&!this.state.fieldValid.field&&React.createElement(\"div\",{className:\"error-message\"},this.state.errorMsgs.field)),this.state.fieldValues.field&&React.createElement(\"div\",{className:'row '+(this.state.fieldRequired.position&&this.state.fieldTouched.position?this.state.fieldValid.position?'success':'error':'')},this.switchSelects(),this.state.fieldRequired.position&&this.state.fieldTouched.position&&!this.state.fieldValid.position&&React.createElement(\"div\",{className:\"error-message\"},this.state.errorMsgs.position)),React.createElement(\"input\",{id:\"submit-button\",type:\"submit\",value:\"Submit\"})),React.createElement(\"ol\",null,React.createElement(\"li\",null,\"Name: \",this.state.fieldValues.name),React.createElement(\"li\",null,\"Nickname: \",this.state.fieldValues.nickName),React.createElement(\"li\",null,\"E-mail: \",this.state.fieldValues.email),React.createElement(\"li\",null,\"Field: \",this.state.fieldValues.field),React.createElement(\"li\",null,\"Position: \",this.state.fieldValues.position)));}}}]);return PersonalDataForm;}(React.Component);export{PersonalDataForm as default};","map":{"version":3,"sources":["/Users/michalneumann/Documents/projekty/interviewme/frontend/src/PersonalDataForm.js"],"names":["React","PersonalDataForm","props","validateField","name","value","config","validationRules","trim","length","nickName","email","match","field","position","setState","prevState","fieldTouched","state","fieldRequired","fieldValid","validateAllFields","valid","Object","entries","fieldValues","forEach","key","saveToLocalStorage","window","localStorage","setItem","JSON","stringify","openResults","e","personalDataWindow","open","userData","parse","getItem","message","document","body","innerHTML","submitPersonalDataForm","preventDefault","formSent","errorMsgs","bind","updateState","switchSelects","target","Component"],"mappings":"o6DAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,gB,sFACjB,0BAAaC,KAAb,CAAoB,kDAChB,kFAAMA,KAAN,GADgB,MA0DpBC,aA1DoB,CA0DJ,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC7B,GAAMC,CAAAA,MAAM,CAAG,CAEPC,eAAe,CAAE,CACbH,IAAI,CAAGC,KAAK,CAACG,IAAN,GAAaC,MADP,CACe;AAC5BC,QAAQ,CAAE,IAFG,CAGbC,KAAK,CAAEN,KAAK,CAACO,KAAN,CAAY,sCAAZ,CAHM,CAIbC,KAAK,CAAER,KAAK,CAACG,IAAN,GAAaC,MAJP,CAKbK,QAAQ,CAAET,KAAK,CAACG,IAAN,GAAaC,MALV,CAFV,CAAf,CAUA,MAAKM,QAAL,CAAc,SAAAC,SAAS,QAAK,CACxBC,YAAY,kBACLD,SAAS,CAACC,YADL,oBAECb,IAFD,CAEQ,IAFR,EADY,CAAL,EAAvB,EAOA,GAAG,MAAKc,KAAL,CAAWC,aAAX,CAAyBf,IAAzB,CAAH,CAAkC,CAG9B,GAAGE,MAAM,CAACC,eAAP,CAAuBH,IAAvB,CAAH,CAAgC,CAE5B,MAAKW,QAAL,CAAc,SAAAC,SAAS,QAAK,CACxBI,UAAU,kBACHJ,SAAS,CAACI,UADP,oBAELhB,IAFK,CAEE,IAFF,EADc,CAAL,EAAvB,EAOH,CATD,IASO,CAEF,MAAKW,QAAL,CAAc,SAAAC,SAAS,QAAK,CACzBI,UAAU,kBACHJ,SAAS,CAACI,UADP,oBAELhB,IAFK,CAEE,KAFF,EADe,CAAL,EAAvB,EAOJ,CAEJ,CAEJ,CArGmB,OAuGpBiB,iBAvGoB,CAuGA,UAAK,CACrB,GAAIC,CAAAA,KAAK,CAAG,IAAZ,CACAC,MAAM,CAACC,OAAP,CAAe,MAAKN,KAAL,CAAWO,WAA1B,EAAuCC,OAAvC,CACI,gDAAEC,GAAF,UAAOtB,KAAP,gBAAkB,OAAKF,aAAL,CAAmBwB,GAAnB,CAAwBtB,KAAxB,CAAlB,EADJ,EAGAkB,MAAM,CAACC,OAAP,CAAe,MAAKN,KAAL,CAAWE,UAA1B,EAAsCM,OAAtC,CACI,eAAkB,mCAAhBC,GAAgB,UAAXtB,KAAW,UAAC,GAAIA,KAAK,GAAK,KAAd,CAAoB,CACnCiB,KAAK,CAAG,KAAR,CACH,CACJ,CAJD,EAMA,MAAOA,CAAAA,KAAP,CACH,CAnHmB,OAqHpBM,kBArHoB,CAqHC,UAAM,CACvBC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAAuCC,IAAI,CAACC,SAAL,CAAe,MAAKf,KAAL,CAAWO,WAA1B,CAAvC,EACH,CAvHmB,OAyHpBS,WAzHoB,CAyHN,SAACC,CAAD,CAAO,CACjB,GAAMC,CAAAA,kBAAkB,CAAGP,MAAM,CAACQ,IAAP,CAAY,EAAZ,CAAgB,yBAAhB,CAA3B,CACA,GAAIC,CAAAA,QAAQ,CAAGN,IAAI,CAACO,KAAL,CAAWV,MAAM,CAACC,YAAP,CAAoBU,OAApB,CAA4B,SAA5B,CAAX,CAAf,CACA,GAAIC,CAAAA,OAAO,CAAG,oCAAoCH,QAAQ,CAAClC,IAA7C,CAAkD,qBAAlD,CAAwEkC,QAAQ,CAAC5B,QAAjF,CAA0F,mBAA1F,CAA8G4B,QAAQ,CAAC3B,KAAvH,CAA6H,kBAA7H,CAAgJ2B,QAAQ,CAACzB,KAAzJ,CAA+J,qBAA/J,CAAqLyB,QAAQ,CAACxB,QAA9L,CAAuM,YAArN,CACDsB,kBAAkB,CAACM,QAAnB,CAA4BC,IAA5B,CAAiCC,SAAjC,CAA6CH,OAA7C,CAEF,CA/HmB,OAkIpBI,sBAlIoB,CAkIK,SAACV,CAAD,CAAO,CAC5BA,CAAC,CAACW,cAAF,GACA,GAAG,MAAKzB,iBAAL,EAAH,CAA4B,CACxB,MAAKN,QAAL,CAAc,SAAAC,SAAS,QAAK,CACpB+B,QAAQ,CAAE,IADU,CAAL,EAAvB,EAGA,MAAKnB,kBAAL,GACH,CACJ,CA1ImB,CAEhB,MAAKV,KAAL,CAAa,CACT6B,QAAQ,CAAE,KADD,CAETtB,WAAW,CAAE,CACTrB,IAAI,CAAE,EADG,CAETM,QAAQ,CAAE,EAFD,CAGTC,KAAK,CAAE,EAHE,CAITE,KAAK,CAAE,EAJE,CAKTC,QAAQ,CAAE,EALD,CAFJ,CASTK,aAAa,CAAE,CACXf,IAAI,CAAE,IADK,CAEXM,QAAQ,CAAE,KAFC,CAGXC,KAAK,CAAE,IAHI,CAIXE,KAAK,CAAE,IAJI,CAKXC,QAAQ,CAAE,IALC,CATN,CAgBTG,YAAY,CAAC,CACTb,IAAI,CAAE,KADG,CAETM,QAAQ,CAAE,KAFD,CAGTC,KAAK,CAAE,KAHE,CAITE,KAAK,CAAE,KAJE,CAKTC,QAAQ,CAAE,KALD,CAhBJ,CAuBTM,UAAU,CAAC,CACPhB,IAAI,CAAE,KADC,CAEPM,QAAQ,CAAE,IAFH,CAGPC,KAAK,CAAE,KAHA,CAIPE,KAAK,CAAE,KAJA,CAKPC,QAAQ,CAAE,KALH,CAvBF,CA8BTkC,SAAS,CAAE,CACP5C,IAAI,CAAE,0BADC,CAEPM,QAAQ,CAAE,EAFH,CAGPC,KAAK,CAAE,qCAHA,CAIPE,KAAK,CAAE,0BAJA,CAKPC,QAAQ,CAAE,6BALH,CA9BF,CAAb,CAsCA,MAAKX,aAAL,CAAqB,MAAKA,aAAL,CAAmB8C,IAAnB,+BAArB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CACA,MAAKE,aAAL,CAAqB,MAAKA,aAAL,CAAmBF,IAAnB,+BAArB,CA1CgB,aA2CnB,C,6EAGYd,C,CAAG,eACUA,CAAC,CAACiB,MADZ,CACLhD,IADK,WACLA,IADK,CACCC,KADD,WACCA,KADD,CAEZ,KAAKU,QAAL,CAAc,SAAAC,SAAS,QAAK,CACxBS,WAAW,kBACJT,SAAS,CAACS,WADN,oBAEErB,IAFF,CAESC,KAFT,EADa,CAAL,EAAvB,EAMA,KAAKF,aAAL,CAAmBC,IAAnB,CAAyBC,KAAzB,EAEH,C,qDAoFgB,CACb,OAAO,KAAKa,KAAL,CAAWO,WAAX,CAAuBZ,KAA9B,EACI,IAAM,IAAN,CACI,MAEQ,+BAAQ,IAAI,CAAC,UAAb,CAAwB,EAAE,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKqC,WAArD,EACI,8BAAQ,KAAK,CAAC,EAAd,EAAkB,KAAKhC,KAAL,CAAWO,WAAX,CAAuBX,QAAvB,CAAkC,kBAAlC,CAAuD,UAAzE,CADJ,CAEI,8BAAQ,KAAK,CAAC,qBAAd,wBAFJ,CAGI,8BAAQ,KAAK,CAAC,oBAAd,uBAHJ,CAII,8BAAQ,KAAK,CAAC,QAAd,WAJJ,CAKI,8BAAQ,KAAK,CAAC,qBAAd,cALJ,CAFR,CAWJ,IAAK,SAAL,CACI,MACQ,+BAAQ,IAAI,CAAC,UAAb,CAAwB,EAAE,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKoC,WAArD,EACI,8BAAQ,KAAK,CAAC,EAAd,EAAkB,KAAKhC,KAAL,CAAWO,WAAX,CAAuBX,QAAvB,CAAkC,kBAAlC,CAAuD,UAAzE,CADJ,CAEI,8BAAQ,KAAK,CAAC,eAAd,kBAFJ,CAGI,8BAAQ,KAAK,CAAC,aAAd,gBAHJ,CAII,8BAAQ,KAAK,CAAC,aAAd,gBAJJ,CADR,CASH,IAAK,SAAL,CACG,MACQ,+BAAQ,IAAI,CAAC,UAAb,CAAwB,EAAE,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKoC,WAArD,EACI,8BAAQ,KAAK,CAAC,EAAd,EAAkB,KAAKhC,KAAL,CAAWO,WAAX,CAAuBX,QAAvB,CAAkC,kBAAlC,CAAuD,UAAzE,CADJ,CAEI,8BAAQ,KAAK,CAAC,mBAAd,sBAFJ,CAGI,8BAAQ,KAAK,CAAC,mBAAd,sBAHJ,CADR,CAQJ,QACI,MAAO,EAAP,CAjCR,CAmCH,C,uCAEQ,CACL,GAAI,KAAKI,KAAL,CAAW6B,QAAf,CAAyB,CAErB,MACI,4BAAK,EAAE,CAAC,aAAR,EAAsB,8BAClB,uCAAW,KAAK7B,KAAL,CAAWO,WAAX,CAAuBrB,IAAlC,CADkB,CAElB,2CAAe,KAAKc,KAAL,CAAWO,WAAX,CAAuBf,QAAtC,CAFkB,CAGlB,yCAAa,KAAKQ,KAAL,CAAWO,WAAX,CAAuBd,KAApC,CAHkB,CAIlB,wCAAY,KAAKO,KAAL,CAAWO,WAAX,CAAuBZ,KAAnC,CAJkB,CAKlB,2CAAe,KAAKK,KAAL,CAAWO,WAAX,CAAuBX,QAAtC,CALkB,CAAtB,CAOA,8BAAQ,OAAO,CAAE,KAAKoB,WAAtB,4CAPA,CADJ,CAWH,CAbD,IAaO,CAEH,MACI,4BAAK,EAAE,CAAC,aAAR,EACI,4BAAM,MAAM,CAAC,EAAb,CAAgB,EAAE,CAAC,oBAAnB,CAAwC,QAAQ,CAAE,KAAKW,sBAAvD,CAA+E,UAAU,KAAzF,EACI,2BAAK,SAAS,CAAE,QACG,KAAK3B,KAAL,CAAWC,aAAX,CAAyBf,IAAzB,EAAiC,KAAKc,KAAL,CAAWD,YAAX,CAAwBb,IAAzD,CACE,KAAKc,KAAL,CAAWE,UAAX,CAAsBhB,IAAtB,CACG,SADH,CACe,OAFjB,CAGE,EAJL,CAAhB,EAMI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,UAAU,KAAzC,CAA0C,MAAM,CAAE,KAAK8C,WAAvD,EANJ,CAOI,6BAAO,SAAS,CAAE,KAAKhC,KAAL,CAAWO,WAAX,CAAuBrB,IAAvB,EAA+B,QAAjD,CAA2D,OAAO,CAAC,MAAnE,SAPJ,CASK,KAAKc,KAAL,CAAWC,aAAX,CAAyBf,IAAzB,EACG,KAAKc,KAAL,CAAWD,YAAX,CAAwBb,IAD3B,EAEG,CAAC,KAAKc,KAAL,CAAWE,UAAX,CAAsBhB,IAF1B,EAGG,2BAAK,SAAS,CAAC,eAAf,EAAgC,KAAKc,KAAL,CAAW8B,SAAX,CAAqB5C,IAArD,CAZR,CADJ,CAiBI,2BAAK,SAAS,CAAE,QACO,KAAKc,KAAL,CAAWC,aAAX,CAAyBT,QAAzB,EAAqC,KAAKQ,KAAL,CAAWD,YAAX,CAAwBP,QAA7D,CACE,KAAKQ,KAAL,CAAWE,UAAX,CAAsBV,QAAtB,CACG,SADH,CACe,OAFjB,CAGE,EAJT,CAAhB,EAMI,6BAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,MAA5B,CAAmC,UAAU,KAA7C,CAA8C,MAAM,CAAE,KAAKwC,WAA3D,EANJ,CAOI,6BAAO,SAAS,CAAE,KAAKhC,KAAL,CAAWO,WAAX,CAAuBf,QAAvB,EAAmC,QAArD,CAA+D,OAAO,CAAC,UAAvE,aAPJ,CASK,KAAKQ,KAAL,CAAWC,aAAX,CAAyBT,QAAzB,EACG,KAAKQ,KAAL,CAAWD,YAAX,CAAwBP,QAD3B,EAEG,CAAC,KAAKQ,KAAL,CAAWE,UAAX,CAAsBV,QAF1B,EAGG,2BAAK,SAAS,CAAC,eAAf,EAAgC,KAAKQ,KAAL,CAAW8B,SAAX,CAAqBtC,QAArD,CAZR,CAjBJ,CAgCI,2BAAK,SAAS,CAAE,QACO,KAAKQ,KAAL,CAAWC,aAAX,CAAyBR,KAAzB,EAAkC,KAAKO,KAAL,CAAWD,YAAX,CAAwBN,KAA1D,CACE,KAAKO,KAAL,CAAWE,UAAX,CAAsBT,KAAtB,CACG,SADH,CACe,OAFjB,CAGE,EAJT,CAAhB,EAMI,6BAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,OAAzB,CAAiC,UAAU,KAA3C,CAA4C,MAAM,CAAE,KAAKuC,WAAzD,EANJ,CAOI,6BAAO,SAAS,CAAE,KAAKhC,KAAL,CAAWO,WAAX,CAAuBd,KAAvB,EAAgC,QAAlD,CAA4D,OAAO,CAAC,OAApE,WAPJ,CASK,KAAKO,KAAL,CAAWC,aAAX,CAAyBR,KAAzB,EACG,KAAKO,KAAL,CAAWD,YAAX,CAAwBN,KAD3B,EAEG,CAAC,KAAKO,KAAL,CAAWE,UAAX,CAAsBT,KAF1B,EAGG,2BAAK,SAAS,CAAC,eAAf,EAAgC,KAAKO,KAAL,CAAW8B,SAAX,CAAqBrC,KAArD,CAZR,CAhCJ,CA+CI,2BAAK,SAAS,CAAE,QACO,KAAKO,KAAL,CAAWC,aAAX,CAAyBN,KAAzB,EAAkC,KAAKK,KAAL,CAAWD,YAAX,CAAwBJ,KAA1D,CACE,KAAKK,KAAL,CAAWE,UAAX,CAAsBP,KAAtB,CACG,SADH,CACe,OAFjB,CAGE,EAJT,CAAhB,EAMI,8BAAQ,IAAI,CAAC,OAAb,CAAqB,EAAE,CAAC,OAAxB,CAAgC,QAAQ,CAAE,KAAKqC,WAA/C,CAA4D,QAAQ,CAAE,KAAKhC,KAAL,CAAWO,WAAX,CAAuBX,QAAvB,GAAoC,EAA1G,EACI,8BAAQ,KAAK,CAAC,EAAd,UADJ,CAEI,8BAAQ,KAAK,CAAC,IAAd,OAFJ,CAGI,8BAAQ,KAAK,CAAC,SAAd,YAHJ,CAII,8BAAQ,KAAK,CAAC,SAAd,YAJJ,CANJ,CAaK,KAAKI,KAAL,CAAWC,aAAX,CAAyBN,KAAzB,EACG,KAAKK,KAAL,CAAWD,YAAX,CAAwBJ,KAD3B,EAEG,CAAC,KAAKK,KAAL,CAAWE,UAAX,CAAsBP,KAF1B,EAGG,2BAAK,SAAS,CAAC,eAAf,EAAgC,KAAKK,KAAL,CAAW8B,SAAX,CAAqBnC,KAArD,CAhBR,CA/CJ,CAkEK,KAAKK,KAAL,CAAWO,WAAX,CAAuBZ,KAAvB,EACD,2BAAK,SAAS,CAAE,QACO,KAAKK,KAAL,CAAWC,aAAX,CAAyBL,QAAzB,EAAqC,KAAKI,KAAL,CAAWD,YAAX,CAAwBH,QAA7D,CACE,KAAKI,KAAL,CAAWE,UAAX,CAAsBN,QAAtB,CACG,SADH,CACe,OAFjB,CAGE,EAJT,CAAhB,EAMK,KAAKqC,aAAL,EANL,CAQK,KAAKjC,KAAL,CAAWC,aAAX,CAAyBL,QAAzB,EACG,KAAKI,KAAL,CAAWD,YAAX,CAAwBH,QAD3B,EAEG,CAAC,KAAKI,KAAL,CAAWE,UAAX,CAAsBN,QAF1B,EAGG,2BAAK,SAAS,CAAC,eAAf,EAAgC,KAAKI,KAAL,CAAW8B,SAAX,CAAqBlC,QAArD,CAXR,CAnEJ,CAmFI,6BAAO,EAAE,CAAC,eAAV,CAA0B,IAAI,CAAC,QAA/B,CAAwC,KAAK,CAAC,QAA9C,EAnFJ,CADJ,CAwFI,8BACI,uCAAW,KAAKI,KAAL,CAAWO,WAAX,CAAuBrB,IAAlC,CADJ,CAEI,2CAAe,KAAKc,KAAL,CAAWO,WAAX,CAAuBf,QAAtC,CAFJ,CAGI,yCAAa,KAAKQ,KAAL,CAAWO,WAAX,CAAuBd,KAApC,CAHJ,CAII,wCAAY,KAAKO,KAAL,CAAWO,WAAX,CAAuBZ,KAAnC,CAJJ,CAKI,2CAAe,KAAKK,KAAL,CAAWO,WAAX,CAAuBX,QAAtC,CALJ,CAxFJ,CADJ,CAqGH,CACJ,C,8BAzSyCd,KAAK,CAACqD,S,SAA/BpD,gB","sourcesContent":["import React from 'react';\n\nexport default class PersonalDataForm extends React.Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            formSent: false,\n            fieldValues: {\n                name: '',\n                nickName: '',\n                email: '',\n                field: '',\n                position: '',\n            },\n            fieldRequired: {\n                name: true,\n                nickName: false,\n                email: true,\n                field: true,\n                position: true,\n            },\n            fieldTouched:{\n                name: false,\n                nickName: false,\n                email: false,\n                field: false,\n                position: false,\n            },\n            fieldValid:{\n                name: false,\n                nickName: true,\n                email: false,\n                field: false,\n                position: false,\n            },\n            errorMsgs: {\n                name: 'Please fill in your name',\n                nickName: '',\n                email: 'Please use a correct e-mail address',\n                field: 'Please choose your field',\n                position: 'Please choose your position',\n            },\n        }\n        this.validateField = this.validateField.bind(this);\n        this.updateState = this.updateState.bind(this);\n        this.switchSelects = this.switchSelects.bind(this);\n    }\n    \n    \n    updateState (e) {\n        const {name, value} = e.target;\n        this.setState(prevState => ({\n            fieldValues: {\n                ...prevState.fieldValues,\n                        [name]: value\n            }\n        }))\n        this.validateField(name, value)\n        \n    }\n    \n    validateField = (name, value) => {\n        const config = {\n            \n                validationRules: {\n                    name:  value.trim().length, //most basic validation rule. checks if there's anything typed in the field\n                    nickName: true,\n                    email: value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i),\n                    field: value.trim().length,\n                    position: value.trim().length,\n                },\n        }\n        this.setState(prevState => ({\n            fieldTouched: {\n                ...prevState.fieldTouched,\n                        [name]: true\n            }\n        }))\n        \n        if(this.state.fieldRequired[name]){\n            \n            \n            if(config.validationRules[name]){\n\n                this.setState(prevState => ({\n                    fieldValid: { \n                        ...prevState.fieldValid,\n                        [name]: true\n                    }\n                }))\n                \n            } else {\n                \n                 this.setState(prevState => ({\n                    fieldValid: { \n                        ...prevState.fieldValid,\n                        [name]: false\n                    }\n                }))\n                \n            }\n            \n        }\n        \n    }\n    \n    validateAllFields = () =>{\n        let valid = true;\n        Object.entries(this.state.fieldValues).forEach(\n            ([key, value]) => this.validateField(key, value)\n        )\n        Object.entries(this.state.fieldValid).forEach(\n            ([key, value]) => {if (value === false){\n                valid = false\n            }\n        }\n        )\n        return valid;\n    }\n    \n    saveToLocalStorage = () => {\n        window.localStorage.setItem('PDFUser', JSON.stringify(this.state.fieldValues));\n    }\n    \n    openResults = (e) => {\n        const personalDataWindow = window.open(\"\", \"PersonalDataFormResults\")\n        let userData = JSON.parse(window.localStorage.getItem('PDFUser'));\n        let message = \"<ol>From Local Storage:<li>Name: \"+userData.name+\"</li><li>Nickname: \"+userData.nickName+\"</li><li>E-mail: \"+userData.email+\"</li><li>Field: \"+userData.field+\"</li><li>Position: \"+userData.position+\"</li></ol>\";\n       personalDataWindow.document.body.innerHTML = message;\n        \n    }\n    \n    \n    submitPersonalDataForm = (e) => {\n        e.preventDefault();\n        if(this.validateAllFields()){\n            this.setState(prevState => ({\n                    formSent: true\n                }))\n            this.saveToLocalStorage()\n        }\n    }\n    \n    switchSelects () {\n        switch(this.state.fieldValues.field){\n            case  'IT':\n                return (\n                    \n                        <select name=\"position\" id=\"position\" onChange={this.updateState}>\n                            <option value=\"\">{this.state.fieldValues.position ? 'Go back to Field' : 'Position'}</option>\n                            <option value=\"Front-end developer\">Front-end developer</option>\n                            <option value=\"Back-end developer\">Back-end developer</option>\n                            <option value=\"DevOps\">DevOps</option>\n                            <option value=\"Front-end developer\">Webmaster</option>\n                        </select>\n                    \n                );\n            case 'Product':\n                return (\n                        <select name=\"position\" id=\"position\" onChange={this.updateState}>\n                            <option value=\"\">{this.state.fieldValues.position ? 'Go back to Field' : 'Position'}</option>\n                            <option value=\"Product Owner\">Product Owner</option>\n                            <option value=\"UX Designer\">UX Designer</option>\n                            <option value=\"UI Designer\">UI Designer</option>\n                        </select>\n                    \n                );\n             case 'Content':\n                return (\n                        <select name=\"position\" id=\"position\" onChange={this.updateState}>\n                            <option value=\"\">{this.state.fieldValues.position ? 'Go back to Field' : 'Position'}</option>\n                            <option value=\"Junior Copywriter\">Junior Copywriter</option>\n                            <option value=\"Senior Copywriter\">Senior Copywriter</option>\n                        </select>\n                );\n\n            default:\n                return('');\n        }\n    }\n    \n    render() {\n        if (this.state.formSent) {\n            \n            return (\n                <div id=\"form-helper\"><ol>\n                    <li>Name: {this.state.fieldValues.name}</li>\n                    <li>Nickname: {this.state.fieldValues.nickName}</li>\n                    <li>E-mail: {this.state.fieldValues.email}</li>\n                    <li>Field: {this.state.fieldValues.field}</li>\n                    <li>Position: {this.state.fieldValues.position}</li>\n                </ol>\n                <button onClick={this.openResults}>view results in new Tab (Local Storage)</button></div>\n            )\n            \n        } else {\n            \n            return (\n                <div id=\"form-helper\">\n                    <form action=\"\" id=\"personal-data-form\" onSubmit={this.submitPersonalDataForm} noValidate>\n                        <div className={'row ' \n                                        + (this.state.fieldRequired.name && this.state.fieldTouched.name ?\n                                            (this.state.fieldValid.name ? \n                                                'success' : 'error')\n                                           : '')}>\n\n                            <input name=\"name\" type=\"text\" noValidate onBlur={this.updateState}/>\n                            <label className={this.state.fieldValues.name && 'filled'} htmlFor=\"name\">Name</label>\n\n                            {this.state.fieldRequired.name\n                             && this.state.fieldTouched.name \n                             && !this.state.fieldValid.name \n                             && <div className=\"error-message\">{this.state.errorMsgs.name}</div>}\n\n                        </div>\n\n                        <div className={'row '\n                                            + (this.state.fieldRequired.nickName && this.state.fieldTouched.nickName ? \n                                                (this.state.fieldValid.nickName ?\n                                                    'success' : 'error')\n                                               : '')}>\n\n                            <input name=\"nickName\" type=\"text\" noValidate onBlur={this.updateState}/>\n                            <label className={this.state.fieldValues.nickName && 'filled'} htmlFor=\"nickName\">Nickname</label>\n\n                            {this.state.fieldRequired.nickName \n                             && this.state.fieldTouched.nickName \n                             && !this.state.fieldValid.nickName \n                             && <div className=\"error-message\">{this.state.errorMsgs.nickName}</div>}\n                        </div>\n\n                        <div className={'row '\n                                            + (this.state.fieldRequired.email && this.state.fieldTouched.email ?\n                                                (this.state.fieldValid.email ?\n                                                    'success' : 'error')\n                                               : '')}>\n\n                            <input name=\"email\" type=\"email\" noValidate onBlur={this.updateState}/>\n                            <label className={this.state.fieldValues.email && 'filled'} htmlFor=\"email\">E-mail</label>\n\n                            {this.state.fieldRequired.email\n                             && this.state.fieldTouched.email \n                             && !this.state.fieldValid.email \n                             && <div className=\"error-message\">{this.state.errorMsgs.email}</div>}\n\n                        </div>\n                        <div className={'row '\n                                            + (this.state.fieldRequired.field && this.state.fieldTouched.field ? \n                                                (this.state.fieldValid.field ?\n                                                    'success' : 'error')\n                                               : '')}>\n\n                            <select name=\"field\" id=\"field\" onChange={this.updateState} disabled={this.state.fieldValues.position !== ''}>\n                                <option value=\"\">Field</option>\n                                <option value=\"IT\">IT</option>\n                                <option value=\"Product\">Product</option>\n                                <option value=\"Content\">Content</option>\n                            </select>\n\n                            {this.state.fieldRequired.field \n                             && this.state.fieldTouched.field \n                             && !this.state.fieldValid.field \n                             && <div className=\"error-message\">{this.state.errorMsgs.field}</div>}\n\n                        </div>\n                        {this.state.fieldValues.field && \n                        <div className={'row ' \n                                            + (this.state.fieldRequired.position && this.state.fieldTouched.position ?\n                                                (this.state.fieldValid.position ?\n                                                    'success' : 'error')\n                                               : '')}>\n\n                            {this.switchSelects()}\n\n                            {this.state.fieldRequired.position \n                             && this.state.fieldTouched.position \n                             && !this.state.fieldValid.position \n                             && <div className=\"error-message\">{this.state.errorMsgs.position}</div>}\n\n                        </div>\n                            }\n\n                        <input id=\"submit-button\" type=\"submit\" value=\"Submit\"/>\n                    </form>\n\n\n                    <ol>\n                        <li>Name: {this.state.fieldValues.name}</li>\n                        <li>Nickname: {this.state.fieldValues.nickName}</li>\n                        <li>E-mail: {this.state.fieldValues.email}</li>\n                        <li>Field: {this.state.fieldValues.field}</li>\n                        <li>Position: {this.state.fieldValues.position}</li>\n                    </ol>\n                </div>\n\n\n\n            )\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}